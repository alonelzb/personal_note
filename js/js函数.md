JavaScript 使用关键字 **function** 定义函数。

函数可以通过声明定义，也可以是一个表达式。



# 函数声明

```javascript
function functionName(parameters) {
  执行的代码
}
// 分号是用来分隔可执行JavaScript语句。
// 由于函数声明不是一个可执行语句，所以不以分号结束。
```

# 函数表达式

avaScript 函数可以通过一个表达式定义。

函数表达式可以存储在变量中

```javascript
var x = function (a, b) {return a * b};
//在函数表达式存储在变量后，变量也可作为一个函数使用：
var x = function (a, b) {return a * b};
var z = x(4, 3);
// 以上函数实际上是一个 匿名函数 (函数没有名称)。

//函数存储在变量中，不需要函数名称，通常通过变量名来调用。
// 上述函数以分号结尾，因为它是一个执行语句。
```

# 自调用函数

```javascript
(function () {
    var x = "Hello!!";      // 我将调用自己
})();
// 以上函数实际上是一个 匿名自我调用的函数 (没有函数名)。
```

# 函数是对象

```javascript
// 在 JavaScript 中使用 typeof 操作符判断函数类型将返回 "function" 。

但是JavaScript 函数描述为一个对象更加准确。

JavaScript 函数有 属性 和 方法。

arguments.length 属性返回函数调用过程接收到的参数个数：
toString() 方法将函数作为一个字符串返回:
```

> 函数定义作为对象的属性，称之为对象方法。
> 函数如果用于创建新的对象，称之为对象的构造函数。

# 箭头函数

ES6 新增了箭头函数。

箭头函数表达式的语法比普通函数表达式更简洁。

```javascript
(参数1, 参数2, …, 参数N) => { 函数声明 }
(参数1, 参数2, …, 参数N) => 表达式(单一)
// 相当于：(参数1, 参数2, …, 参数N) =>{ return 表达式; }

// 当只有一个参数时，圆括号是可选的：

(单一参数) => {函数声明}
单一参数 => {函数声明}

// 没有参数的函数应该写成一对圆括号:
() => {函数声明}

// ES5
var x = function(x, y) {
     return x * y;
}
// ES6
const x = (x, y) => x * y;
```

有的箭头函数都没有自己的 **this**。 不适合定义一个 **对象的方法**。

当我们使用箭头函数的时候，箭头函数会默认帮我们绑定外层 this 的值，所以在箭头函数中 this 的值和外层的 this 是一样的。

箭头函数是不能提升的，所以需要在使用之前定义。

使用 **const** 比使用 **var** 更安全，因为函数表达式始终是一个常量。

如果函数部分只是一个语句，则可以省略 return 关键字和大括号 {}，这样做是一个比较好的习惯:



# 函数参数

## arguments 对象

JavaScript 函数有个内置的对象 arguments 对象。

argument 对象包含了函数调用的参数数组。

通过这种方式你可以很方便的找到最大的一个参数的值：



## 通过值传递参数

在函数中调用的参数是函数的隐式参数。

JavaScript 隐式参数通过值来传递：函数仅仅只是获取值。

如果函数修改参数的值，不会修改显式参数的初始值（在函数外定义）。

隐式参数的改变在函数外是不可见的。

## 通过对象传递参数

在JavaScript中，可以引用对象的值。

因此我们在函数内部修改对象的属性就会修改其初始的值。

修改对象属性可作用于函数外部（全局变量）。

修改对象属性在函数外是可见的。

# 函数的调用

avaScript 函数有 4 种调用方式。

每种方式的不同在于 **this** 的初始化。

一般而言，在Javascript中，this指向函数执行时的当前对象。

## 全局对象

当函数没有被自身的对象调用时 **this** 的值就会变成全局对象。

在 web 浏览器中全局对象是浏览器窗口（window 对象）。

```javascript
function myFunction() {
    return this;
}
myFunction();                // 返回 window 对象
```

## 函数作为方法调用

在 JavaScript 中你可以将函数定义为对象的方法。

以下实例创建了一个对象 (**myObject**), 对象有两个属性 (**firstName** 和 **lastName**), 及一个方法 (**fullName**):

> 函数作为对象方法调用，会使得 **this** 的值成为对象本身。

```javascript
var myObject = {
    firstName:"John",
    lastName: "Doe",
    fullName: function () {
        return this.firstName + " " + this.lastName;
    }
}
myObject.fullName();         // 返回 "John Doe"
```



# 闭包

JavaScript **闭包。**它使得函数拥有私有变量变成可能。

> 闭包是一种保护私有变量的机制，在函数执行时形成私有的作用域，保护里面的私有变量不受外界干扰。
>
> 直观的说就是形成一个不销毁的栈环境。

JavaScript 变量可以是局部变量或全局变量。

在web页面中全局变量属于 window 对象

局部变量只能用于定义它函数内部。对于其他的函数或脚本代码是不可用的。

全局和局部变量即便名称相同，它们也是两个不同的变量。修改其中一个，不会影响另一个的值。

> 变量声明时如果不使用 **var** 关键字，那么它就是一个全局变量，即便它在函数内定义。

## 变量生命周期

全局变量的作用域是全局性的，即在整个JavaScript程序中，全局变量处处都在。

而在函数内部声明的变量，只在函数内部起作用。这些变量是局部变量，作用域是局部性的；函数的参数也是局部性的，只在函数内部起作用

必须保持统一的风格，我们建议统一使用小写的文件名。